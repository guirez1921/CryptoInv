import{r as y,j as e,L as S,d as o}from"./app-CrrvZqHY.js";import{C as $}from"./CryptoAIAuthLayout-BJ79Y8-a.js";import{B as m,X as b,C as x,a as g,T as _,b as M}from"./Card-Bcn4e9Fw.js";import{c as N}from"./index-FqtR6oc-.js";import{D}from"./dollar-sign-Cbh5Wwfw.js";import{C as I}from"./check-Byzs7Rwk.js";import"./user-DJt-0KmG.js";import"./clock-B4x0PWk5.js";/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],T=N("check-check",L);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],R=N("megaphone",E),h=[{id:"all",name:"All",icon:g},{id:"profit",name:"Profits",icon:_},{id:"deposit",name:"Deposits",icon:D},{id:"security",name:"Security",icon:M},{id:"announcement",name:"Updates",icon:R}],j={profit:{bg:"bg-green-500/10",border:"border-green-500/30",icon:"text-green-400",accent:"bg-green-500"},deposit:{bg:"bg-blue-500/10",border:"border-blue-500/30",icon:"text-blue-400",accent:"bg-blue-500"},security:{bg:"bg-red-500/10",border:"border-red-500/30",icon:"text-red-400",accent:"bg-red-500"},announcement:{bg:"bg-purple-500/10",border:"border-purple-500/30",icon:"text-purple-400",accent:"bg-purple-500"},default:{bg:"bg-gray-700/30",border:"border-gray-600/30",icon:"text-gray-400",accent:"bg-gray-500"}},O=({notification:s,onMarkAsRead:p,onDelete:n})=>{const i=s.data?.category||"default",a=j[i]||j.default,r=h.find(c=>c.id===i)?.icon||g;return e.jsx(x,{className:`${a.bg} ${a.border} border transition-all duration-300 hover:border-opacity-50`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full ${a.accent}/20 flex items-center justify-center mt-1`,children:e.jsx(r,{className:`w-5 h-5 ${a.icon}`})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-white font-semibold text-sm",children:s.data?.title||"Notification"}),!s.read_at&&e.jsx("div",{className:`w-2 h-2 rounded-full ${a.accent}`})]}),e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed mb-3",children:s.data?.body||s.data?.message||"No content available"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[new Date(s.created_at).toLocaleDateString()," at"," ",new Date(s.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs ${a.bg} ${a.icon} border ${a.border}`,children:h.find(c=>c.id===i)?.name||"General"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[!s.read_at&&e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>p(s.id),className:"text-gray-400 hover:text-white",title:"Mark as read",children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>n(s.id),className:"text-gray-400 hover:text-red-400",title:"Delete notification",children:e.jsx(b,{className:"w-4 h-4"})})]})]})})]})})},P=({notifications:s,auth:p})=>{const[n,i]=y.useState("all"),[a,r]=y.useState(!1),c=s.data.filter(t=>n==="all"?!0:t.data?.category===n),v=async t=>{r(!0);try{await o.patch(route("notifications.read",t),{},{preserveScroll:!0,onSuccess:()=>{}})}catch(l){console.error("Error marking notification as read:",l)}r(!1)},w=async t=>{r(!0);try{await o.delete(route("notifications.destroy",t),{preserveScroll:!0,onSuccess:()=>{}})}catch(l){console.error("Error deleting notification:",l)}r(!1)},C=async()=>{r(!0);try{await o.patch(route("notifications.read-all"),{},{preserveScroll:!0,onSuccess:()=>{}})}catch(t){console.error("Error marking all notifications as read:",t)}r(!1)},k=async()=>{if(confirm("Are you sure you want to delete all notifications? This action cannot be undone.")){r(!0);try{await o.delete(route("notifications.destroy-all"),{preserveScroll:!0,onSuccess:()=>{}})}catch(t){console.error("Error deleting all notifications:",t)}r(!1)}},u=s.data.filter(t=>!t.read_at).length,A=t=>t==="all"?s.data.length:s.data.filter(l=>l.data?.category===t).length;return e.jsx($,{title:"Notifications - CryptoAI",children:e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Notifications"}),e.jsx("p",{className:"text-gray-400",children:"Stay updated with your trading activities and account changes"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[u>0&&e.jsxs(m,{variant:"outline",onClick:C,disabled:a,className:"text-sm",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Mark All Read"]}),e.jsxs(m,{variant:"ghost",onClick:k,disabled:a,className:"text-sm text-red-400 hover:text-red-300",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Clear All"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs(x,{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Categories"}),e.jsx("div",{className:"space-y-2",children:h.map(t=>{const l=t.icon,f=A(t.id),d=n===t.id;return e.jsxs("button",{onClick:()=>i(t.id),className:`w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 ${d?"bg-gradient-to-r from-cyan-500/20 to-blue-600/20 border border-cyan-500/30":"hover:bg-gray-700/30"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{className:`w-5 h-5 ${d?"text-cyan-400":"text-gray-400"}`}),e.jsx("span",{className:`font-medium ${d?"text-white":"text-gray-300"}`,children:t.name})]}),f>0&&e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${d?"bg-cyan-500/20 text-cyan-400":"bg-gray-600/50 text-gray-400"}`,children:f})]},t.id)})})]}),e.jsxs(x,{className:"mt-6",children:[e.jsx("h4",{className:"text-md font-semibold text-white mb-4",children:"Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Total"}),e.jsx("span",{className:"text-white font-medium",children:s.data.length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Unread"}),e.jsx("span",{className:"text-cyan-400 font-medium",children:u})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Read"}),e.jsx("span",{className:"text-green-400 font-medium",children:s.data.length-u})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-3",children:[c.length>0?e.jsx("div",{className:"space-y-4",children:c.map(t=>e.jsx(O,{notification:t,onMarkAsRead:v,onDelete:w},t.id))}):e.jsxs(x,{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-700/30 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(g,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No notifications found"}),e.jsx("p",{className:"text-gray-400",children:n==="all"?"You don't have any notifications yet.":`No notifications in the ${h.find(t=>t.id===n)?.name} category.`})]}),s.links&&s.links.length>3&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("div",{className:"flex items-center space-x-2",children:s.links.map((t,l)=>e.jsx(S,{href:t.url||"#",className:`px-3 py-2 rounded-md text-sm ${t.active?"bg-cyan-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"} ${t.url?"":"cursor-not-allowed opacity-50"}`,dangerouslySetInnerHTML:{__html:t.label}},l))})})]})]})]})})})};export{P as default};
