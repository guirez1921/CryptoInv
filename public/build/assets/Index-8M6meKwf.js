import{r as x,u as y,j as e}from"./app-CXK4AQ9g.js";import{C as E,W as F,M as w,S as W}from"./CryptoAIAuthLayout-BSgWYn3k.js";import{C as u,T as q,B as n,X as S}from"./Card-FPUSHmdg.js";import{U as D}from"./users-Q7EvLyvS.js";import{D as I}from"./dollar-sign-DqA1Fd_2.js";import{c as v}from"./index-BZH0g1TY.js";import{P}from"./plus-vaE9TGFJ.js";import"./user-BXV2RYS3.js";import"./clock-xUZI1vsE.js";/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],V=v("download",H);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],O=v("funnel",J);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],X=v("search",R),le=({users:k=[],stats:g={totalUsers:0,activeUsers:0,totalBalance:0,pendingWithdrawals:0}})=>{const[d,i]=x.useState(null),[C,j]=x.useState(!1),[U,m]=x.useState(!1),[p,M]=x.useState(""),[o,_]=x.useState("all"),[t,f]=x.useState([]),a=y({user_id:"",amount:"",currency:"USD",note:""}),l=y({user_id:"",subject:"",message:"",type:"info"}),r=y({user_ids:[],subject:"",message:"",type:"info"}),N=s=>{i(s),a.setData("user_id",s.id),l.setData("user_id",s.id)},A=s=>{s.preventDefault(),a.post("/admin/users/deposit",{onSuccess:()=>{j(!1),a.reset(),i(null)}})},T=s=>{s.preventDefault(),l.post("/admin/users/message",{onSuccess:()=>{m(!1),l.reset(),i(null)}})},L=s=>{s.preventDefault(),r.setData("user_ids",t),r.post("/admin/users/bulk-message",{onSuccess:()=>{f([]),r.reset()}})},B=s=>{f(c=>c.includes(s)?c.filter(b=>b!==s):[...c,s])},$=()=>{const s=h.map(c=>c.id);f(t.length===s.length?[]:s)},h=k.filter(s=>{const c=s.name.toLowerCase().includes(p.toLowerCase())||s.email.toLowerCase().includes(p.toLowerCase()),b=o==="all"||o==="active"&&s.is_active||o==="inactive"&&!s.is_active||o==="verified"&&s.email_verified_at||o==="unverified"&&!s.email_verified_at;return c&&b}),z=[{value:"info",label:"Information",color:"bg-blue-500"},{value:"success",label:"Success",color:"bg-green-500"},{value:"warning",label:"Warning",color:"bg-yellow-500"},{value:"error",label:"Error",color:"bg-red-500"}];return e.jsxs(E,{title:"Admin Dashboard - CryptoAI",children:[e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-white",children:"Admin Dashboard"}),e.jsx("p",{className:"text-gray-400",children:"Manage users, deposits, and communications"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(u,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:g.totalUsers})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(D,{className:"w-6 h-6 text-white"})})]})}),e.jsx(u,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:g.activeUsers})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:e.jsx(q,{className:"w-6 h-6 text-white"})})]})}),e.jsx(u,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Total Balance"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",g.totalBalance?.toLocaleString()||"0"]})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"w-6 h-6 text-white"})})]})}),e.jsx(u,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Pending Withdrawals"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:g.pendingWithdrawals})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-red-600 rounded-lg flex items-center justify-center",children:e.jsx(I,{className:"w-6 h-6 text-white"})})]})})]}),e.jsxs(u,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"User Management"}),t.length>0&&e.jsxs("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-sm",children:[t.length," selected"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[t.length>0&&e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Bulk Message"]}),e.jsxs(n,{variant:"outline",size:"sm",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:p,onChange:s=>M(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:o,onChange:s=>_(s.target.value),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Users"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"unverified",children:"Unverified"})]})]})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-2",children:e.jsx("input",{type:"checkbox",checked:t.length===h.length&&h.length>0,onChange:$,className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"})}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"User"}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Status"}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Balance"}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Joined"}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:h.map(s=>e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-700/30",children:[e.jsx("td",{className:"py-4 px-2",children:e.jsx("input",{type:"checkbox",checked:t.includes(s.id),onChange:()=>B(s.id),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"})}),e.jsx("td",{className:"py-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:s.name?.charAt(0)?.toUpperCase()||"U"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:s.name}),e.jsx("p",{className:"text-gray-400 text-sm",children:s.email})]})]})}),e.jsx("td",{className:"py-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:s.is_active?"Active":"Inactive"}),s.email_verified_at&&e.jsx("span",{className:"block px-2 py-1 text-xs rounded-full bg-blue-500/20 text-blue-400",children:"Verified"})]})}),e.jsxs("td",{className:"py-4",children:[e.jsxs("div",{className:"text-white font-semibold",children:["$",s.total_balance?.toLocaleString()||"0.00"]}),e.jsxs("div",{className:"text-gray-400 text-sm",children:["Available: $",s.available_balance?.toLocaleString()||"0.00"]})]}),e.jsx("td",{className:"py-4 text-gray-400",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(n,{size:"sm",variant:"outline",onClick:()=>{N(s),j(!0)},children:[e.jsx(P,{className:"w-4 h-4 mr-1"}),"Deposit"]}),e.jsxs(n,{size:"sm",variant:"outline",onClick:()=>{N(s),m(!0)},children:[e.jsx(w,{className:"w-4 h-4 mr-1"}),"Message"]})]})})]},s.id))})]}),h.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(D,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No users found"})]})]})]})]})}),C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Manual Deposit"}),e.jsx("button",{onClick:()=>{j(!1),i(null),a.reset()},className:"text-gray-400 hover:text-white",children:e.jsx(S,{className:"w-5 h-5"})})]}),d&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-700/50 rounded-lg",children:[e.jsx("p",{className:"text-white font-medium",children:d.name}),e.jsx("p",{className:"text-gray-400 text-sm",children:d.email})]}),e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:a.data.amount,onChange:s=>a.setData("amount",s.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"0.00",required:!0}),a.errors.amount&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.errors.amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Currency"}),e.jsxs("select",{value:a.data.currency,onChange:s=>a.setData("currency",s.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"BTC",children:"Bitcoin"}),e.jsx("option",{value:"ETH",children:"Ethereum"}),e.jsx("option",{value:"USDT",children:"USDT"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Note (Optional)"}),e.jsx("textarea",{value:a.data.note,onChange:s=>a.setData("note",s.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",rows:"3",placeholder:"Add a note for this deposit..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>{j(!1),i(null),a.reset()},children:"Cancel"}),e.jsx(n,{type:"submit",disabled:a.processing,children:a.processing?"Processing...":"Add Deposit"})]})]})]})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:t.length>1?`Message ${t.length} Users`:"Send Message"}),e.jsx("button",{onClick:()=>{m(!1),i(null),l.reset(),r.reset()},className:"text-gray-400 hover:text-white",children:e.jsx(S,{className:"w-5 h-5"})})]}),d&&t.length<=1&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-700/50 rounded-lg",children:[e.jsx("p",{className:"text-white font-medium",children:d.name}),e.jsx("p",{className:"text-gray-400 text-sm",children:d.email})]}),e.jsxs("form",{onSubmit:t.length>1?L:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Message Type"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:z.map(s=>e.jsx("button",{type:"button",onClick:()=>{t.length>1?r.setData("type",s.value):l.setData("type",s.value)},className:`p-2 rounded-md border text-sm font-medium transition-colors ${(t.length>1?r.data.type:l.data.type)===s.value?`${s.color} text-white border-transparent`:"bg-gray-700 text-gray-300 border-gray-600 hover:border-gray-500"}`,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subject"}),e.jsx("input",{type:"text",value:t.length>1?r.data.subject:l.data.subject,onChange:s=>{t.length>1?r.setData("subject",s.target.value):l.setData("subject",s.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"Message subject...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Message"}),e.jsx("textarea",{value:t.length>1?r.data.message:l.data.message,onChange:s=>{t.length>1?r.setData("message",s.target.value):l.setData("message",s.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",rows:"4",placeholder:"Type your message here...",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>{m(!1),i(null),l.reset(),r.reset()},children:"Cancel"}),e.jsxs(n,{type:"submit",disabled:t.length>1?r.processing:l.processing,children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),t.length>1&&r.processing||!t.length>1&&l.processing?"Sending...":"Send Message"]})]})]})]})})]})};export{le as default};
