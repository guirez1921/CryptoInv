import{r as d,j as e,L as b,a as S,b as N,H as M}from"./app-aASDWqqC.js";import{c as p,s as x}from"./index-DYMs3dkQ.js";import{S as v,L,M as P,B as u}from"./Card-DRKcBC85.js";import{U as O}from"./user-Bc3JzLdP.js";import{L as z,C as V}from"./wallet-BA9QPb2k.js";import{T as E}from"./triangle-alert-wk7wqViC.js";import{C as I}from"./circle-check-big-yYRdsq0U.js";import{C as T}from"./copy-B5zQLs7D.js";/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],$=p("chart-no-axes-column",_);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],R=p("circle-x",F);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],W=p("shield-alert",U),B=({user:l=null,notificationCount:c=0,sidebarOpen:r,setSidebarOpen:i})=>{const[a,s]=d.useState(!1),n=()=>{S.post(x("logout"))};return e.jsx("header",{className:"sticky top-0 z-50 border-b border-gray-800 bg-gray-900/95 backdrop-blur-sm",children:e.jsx("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs(b,{href:x("admin.dashboard"),className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-r from-red-600 to-orange-500",children:e.jsx(v,{className:"w-5 h-5 text-white"})}),e.jsxs("span",{className:"text-xl font-bold text-white",children:["CryptoAI ",e.jsx("span",{className:"text-red-500",children:"Admin"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>s(!a),className:"flex items-center p-2 space-x-2 text-gray-300 transition-colors rounded-lg hover:text-red-400 hover:bg-gray-800/50",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-red-900/50 rounded-full",children:e.jsx(O,{className:"w-5 h-5 text-red-200"})}),e.jsx("span",{className:"hidden text-sm md:block text-red-100",children:l?.name||"Administrator"})]}),a&&e.jsxs("div",{className:"absolute right-0 z-50 w-48 py-1 mt-2 bg-gray-800 border border-gray-700 rounded-md shadow-lg",children:[e.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 font-semibold uppercase tracking-wider",children:"Admin Account"}),e.jsx("hr",{className:"my-1 border-gray-700"}),e.jsxs("button",{onClick:n,className:"flex items-center w-full px-4 py-2 text-sm text-red-400 transition-colors hover:bg-gray-700 hover:text-red-300",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),e.jsx("button",{className:"p-2 mr-2 text-gray-300 rounded-md lg:hidden hover:text-red-400 hover:bg-gray-800/50 focus:outline-none",onClick:()=>i&&i(!r),"aria-label":"Open sidebar",children:e.jsx(P,{className:"w-6 h-6"})})]})]})})})},D=({sidebarOpen:l,setSidebarOpen:c})=>{const{url:r}=N(),i=[{name:"Dashboard",href:x("admin.dashboard"),icon:z,description:"Overview & Users"},{name:"Statistics",href:x("admin.statistics"),icon:$,description:"Platform Analytics"}],a=s=>r===s||r.startsWith(s);return e.jsx("div",{className:`sticky left-0 top-16 h-[calc(100vh-4rem)] w-64 bg-gray-900/95 backdrop-blur-sm border-r border-gray-800 z-40 transition-all duration-300 ${l?"block":"hidden"} lg:static lg:block`,style:{zIndex:40},children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h2",{className:"text-xs font-semibold tracking-wider text-red-500 uppercase",children:"Admin Controls"})}),e.jsx("nav",{className:"space-y-2",children:i.map(s=>{const n=s.icon,o=a(s.href);return e.jsxs(b,{href:s.href,className:`group flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${o?"bg-gradient-to-r from-red-900/50 to-orange-900/50 text-white shadow-lg border border-red-800/50":"text-gray-300 hover:bg-gray-800/50 hover:text-white"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(n,{className:`w-5 h-5 mr-3 ${o?"text-red-400":"text-gray-400 group-hover:text-red-400"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:`text-xs ${o?"text-red-200":"text-gray-500 group-hover:text-gray-400"}`,children:s.description})]})]}),e.jsx(V,{className:`w-4 h-4 transition-transform ${o?"text-white":"text-gray-500 group-hover:text-gray-300 group-hover:translate-x-1"}`})]},s.name)})}),e.jsx("div",{className:"pt-6 mt-8 border-t border-gray-800",children:e.jsx("div",{className:"px-4 py-3 rounded-lg bg-red-900/10 border border-red-900/20",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-red-600",children:e.jsx(W,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:"Super Admin"}),e.jsx("p",{className:"text-xs text-red-400",children:"Restricted Access"})]})]})})})]})})};function Z({children:l,title:c="Admin Dashboard"}){const{auth:r}=N().props,i=r?.user,a=r?.notificationCount||0,[s,n]=d.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(M,{title:c}),e.jsxs("div",{className:"flex flex-col h-screen bg-gray-900",children:[e.jsx(B,{user:i,notificationCount:a,sidebarOpen:s,setSidebarOpen:n}),e.jsxs("div",{className:"relative flex flex-1 overflow-hidden",children:[e.jsx(D,{sidebarOpen:s,setSidebarOpen:n}),s&&e.jsx("div",{className:"fixed inset-0 z-30 bg-gray-900/80 lg:hidden",onClick:()=>n(!1)}),e.jsx("main",{className:"flex-1 pt-0 overflow-hidden",children:e.jsx("div",{className:"h-full overflow-y-auto",children:l})})]})]})]})}const ee=({user:l,onClose:c})=>{const[r,i]=d.useState(""),[a,s]=d.useState(""),[n,o]=d.useState(""),[h,g]=d.useState(!1),[w,k]=d.useState(!1),[C,y]=d.useState(!1),f=async()=>{if(!r.trim()){o("Please enter your password");return}g(!0),o("");try{const t=document.querySelector('meta[name="csrf-token"]')?.content,m=await fetch(x("admin.users.mnemonic",l.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,Accept:"application/json"},body:JSON.stringify({password:r})}),j=await m.json();if(!m.ok){o(j.error||"Failed to retrieve mnemonic");return}s(j.mnemonic),i(""),k(!0)}catch(t){console.error("Error:",t),o("Failed to retrieve mnemonic. Please try again.")}finally{g(!1)}},A=()=>{navigator.clipboard.writeText(a),y(!0),setTimeout(()=>y(!1),2e3)};return e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:c,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full p-6 border border-gray-700",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-full flex items-center justify-center",children:e.jsx(E,{className:"w-5 h-5 text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"View Wallet Mnemonic"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Sensitive Information - Admin Access Only"})]})]}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(R,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(v,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-400 font-semibold mb-1",children:"Security Warning"}),e.jsxs("p",{className:"text-sm text-gray-300",children:["You are about to view the recovery phrase for ",e.jsxs("span",{className:"font-semibold",children:[l.name,"'s"]})," wallet. This action is logged for security purposes."]})]})]})}),w?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Recovery Phrase (12 Words)"}),e.jsx("div",{className:"bg-gray-900 border border-gray-600 rounded-lg p-4",children:e.jsx("p",{className:"text-white font-mono text-sm break-words select-all",children:a})})]}),e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-red-400 text-sm",children:["⚠️ ",e.jsx("strong",{children:"Never share this phrase with anyone."})," Anyone with this phrase can access this wallet and steal all funds."]})}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:a.split(" ").map((t,m)=>e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded px-3 py-2",children:[e.jsxs("span",{className:"text-gray-400 text-xs mr-2",children:[m+1,"."]}),e.jsx("span",{className:"text-white font-medium",children:t})]},m))}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx(u,{variant:"outline",onClick:A,children:C?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Copy Phrase"]})}),e.jsx(u,{onClick:c,className:"bg-gradient-to-r from-cyan-500 to-blue-600",children:"Close"})]})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Your Admin Password"}),e.jsx("input",{type:"password",value:r,onChange:t=>i(t.target.value),onKeyPress:t=>t.key==="Enter"&&f(),placeholder:"Enter your password",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500",disabled:h}),n&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:n}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[e.jsx(u,{variant:"outline",onClick:c,disabled:h,children:"Cancel"}),e.jsx(u,{onClick:f,disabled:h||!r.trim(),className:"bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700",children:h?"Verifying...":"View Mnemonic"})]})]})]})})};export{Z as C,ee as V,R as a};
