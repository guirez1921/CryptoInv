import{r as n,j as e,a as X,b as Y}from"./app-D2BApXk3.js";import{c as I,s as _}from"./index-D6X-wgKn.js";import{S as z,B as d,C as o,T as G}from"./Card-7b2m1Tgi.js";import{C as Q}from"./CryptoAIAdminLayout-D0xClcH5.js";import{T as Z}from"./triangle-alert-DL2nq1Ox.js";import{C as A}from"./circle-check-big-Ck42kQQy.js";import{C as F}from"./copy-CosdimAD.js";import{A as ee}from"./arrow-left-D9cKITSp.js";import{M as se}from"./mail-CjPHTjr5.js";import{L as te}from"./lock-DeswQ1Ni.js";import{P as ae}from"./plus-DvnLx1zH.js";import{K as ne}from"./key-DGYVcJzZ.js";import{M,W as $,S as ie}from"./wallet-fOdzmrpm.js";import{D as re}from"./dollar-sign-DKDpvXmX.js";import{A as P}from"./activity-BOq-9N7m.js";import{U as ce}from"./user-DMdPLPxq.js";import{C as le}from"./clock-BJK7Hj8O.js";/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],oe=I("calendar",de);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],V=I("circle-x",me),xe=({user:t,onClose:N})=>{const[l,b]=n.useState(""),[r,m]=n.useState(""),[w,p]=n.useState(""),[g,v]=n.useState(!1),[T,C]=n.useState(!1),[y,x]=n.useState(!1),j=async()=>{if(!l.trim()){p("Please enter your password");return}v(!0),p("");try{const c=document.querySelector('meta[name="csrf-token"]')?.content,h=await fetch(_("admin.users.mnemonic",t.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":c,Accept:"application/json"},body:JSON.stringify({password:l})}),k=await h.json();if(!h.ok){p(k.error||"Failed to retrieve mnemonic");return}m(k.mnemonic),b(""),C(!0)}catch(c){console.error("Error:",c),p("Failed to retrieve mnemonic. Please try again.")}finally{v(!1)}},S=()=>{navigator.clipboard.writeText(r),x(!0),setTimeout(()=>x(!1),2e3)};return e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:N,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full p-6 border border-gray-700",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-full flex items-center justify-center",children:e.jsx(Z,{className:"w-5 h-5 text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"View Wallet Mnemonic"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Sensitive Information - Admin Access Only"})]})]}),e.jsx("button",{onClick:N,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(V,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(z,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-400 font-semibold mb-1",children:"Security Warning"}),e.jsxs("p",{className:"text-sm text-gray-300",children:["You are about to view the recovery phrase for ",e.jsxs("span",{className:"font-semibold",children:[t.name,"'s"]})," wallet. This action is logged for security purposes."]})]})]})}),T?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Recovery Phrase (12 Words)"}),e.jsx("div",{className:"bg-gray-900 border border-gray-600 rounded-lg p-4",children:e.jsx("p",{className:"text-white font-mono text-sm break-words select-all",children:r})})]}),e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-red-400 text-sm",children:["âš ï¸ ",e.jsx("strong",{children:"Never share this phrase with anyone."})," Anyone with this phrase can access this wallet and steal all funds."]})}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:r.split(" ").map((c,h)=>e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded px-3 py-2",children:[e.jsxs("span",{className:"text-gray-400 text-xs mr-2",children:[h+1,"."]}),e.jsx("span",{className:"text-white font-medium",children:c})]},h))}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx(d,{variant:"outline",onClick:S,children:y?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Copy Phrase"]})}),e.jsx(d,{onClick:N,className:"bg-gradient-to-r from-cyan-500 to-blue-600",children:"Close"})]})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Your Admin Password"}),e.jsx("input",{type:"password",value:l,onChange:c=>b(c.target.value),onKeyPress:c=>c.key==="Enter"&&j(),placeholder:"Enter your password",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500",disabled:g}),w&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:w}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[e.jsx(d,{variant:"outline",onClick:N,disabled:g,children:"Cancel"}),e.jsx(d,{onClick:j,disabled:g||!l.trim(),className:"bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700",children:g?"Verifying...":"View Mnemonic"})]})]})]})})},Ae=({user:t,transactions:N,wallet:l})=>{const{auth:b}=X().props,[r,m]=n.useState("overview"),[w,p]=n.useState(""),[g,v]=n.useState({}),[T,C]=n.useState(!1),[y,x]=n.useState([]),[j,S]=n.useState(""),[c,h]=n.useState(!1),[k,E]=n.useState(!1),D=n.useRef(null),L=b?.user,W=s=>{navigator.clipboard.writeText(s),p(s),setTimeout(()=>p(""),2e3)},B=s=>{v(a=>({...a,[s]:!a[s]}))},O=s=>({ethereum:"âŸ ",bitcoin:"â‚¿",solana:"â—Ž",tron:"T",polygon:"â¬£",bsc:"Éƒ"})[s.toLowerCase()]||"ðŸ”—",U=s=>({completed:"bg-green-500/20 text-green-400",pending:"bg-yellow-500/20 text-yellow-400",failed:"bg-red-500/20 text-red-400"})[s]||"bg-gray-500/20 text-gray-400";n.useEffect(()=>{r==="chat"&&y.length===0&&K()},[r]),n.useEffect(()=>{R()},[y]),n.useEffect(()=>{if(r==="chat"&&window.Echo&&t.id)return window.Echo.private(`chat.${t.id}`).listen(".message.sent",a=>{x(i=>i.some(f=>f.id===a.chat.id)?i:[...i,a.chat])}),()=>{window.Echo&&window.Echo.leaveChannel(`chat.${t.id}`)}},[r,t.id]);const R=()=>{D.current?.scrollIntoView({behavior:"smooth"})},K=async()=>{E(!0);try{const a=await(await fetch(_("admin.chat.history",t.id))).json();x(a.messages||[])}catch(s){console.error("Failed to load chat:",s)}finally{E(!1)}},q=async s=>{if(s.preventDefault(),!j.trim()||c)return;h(!0);const a={id:Date.now(),message:j.trim(),is_from_admin:!0,created_at:new Date().toISOString(),sending:!0,admin:{user:L}};x(i=>[...i,a]),S("");try{const i=document.querySelector('meta[name="csrf-token"]')?.content;if(!(await fetch(_("admin.chat.send",t.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":i,Accept:"application/json"},body:JSON.stringify({message:a.message})})).ok)throw new Error("Failed");x(u=>u.filter(J=>J.id!==a.id))}catch(i){console.error("Error:",i),x(f=>f.filter(u=>u.id!==a.id))}finally{h(!1)}},H=s=>{const a=new Date(s),i=new Date;return a.toDateString()===i.toDateString()?a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):a.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return e.jsxs(Q,{title:`User Details: ${t.name}`,children:[e.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>Y.get(_("admin.dashboard")),className:"mb-6",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:t.name?.charAt(0)?.toUpperCase()||"U"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:t.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-gray-400",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(se,{className:"w-4 h-4 mr-1"}),t.email]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(oe,{className:"w-4 h-4 mr-1"}),"Joined ",t.created_at]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.is_active?e.jsxs("span",{className:"flex items-center px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:[e.jsx(A,{className:"w-4 h-4 mr-1"}),"Active"]}):e.jsxs("span",{className:"flex items-center px-3 py-1 bg-gray-500/20 text-gray-400 rounded-full text-sm",children:[e.jsx(V,{className:"w-4  h-4 mr-1"}),"Inactive"]}),t.email_verified_at&&e.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 rounded-full text-sm",children:"Verified"}),l?.is_locked&&e.jsxs("span",{className:"flex items-center px-3 py-1 bg-red-500/20 text-red-400 rounded-full text-sm",children:[e.jsx(te,{className:"w-4 h-4 mr-1"}),"Wallet Locked"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(d,{size:"sm",variant:"outline",children:[e.jsx(ae,{className:"w-4 h-4 mr-1"}),"Deposit"]}),e.jsxs(d,{size:"sm",variant:"outline",onClick:()=>C(!0),children:[e.jsx(ne,{className:"w-4 h-4 mr-1"}),"View Mnemonic"]}),e.jsxs(d,{size:"sm",variant:"outline",onClick:()=>m("chat"),children:[e.jsx(M,{className:"w-4 h-4 mr-1"}),"Message"]})]})]})}),t.account&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Total Balance"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",t.account.total_balance?.toLocaleString()||"0.00"]})]}),e.jsx(re,{className:"w-10 h-10 text-cyan-400"})]})}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Available"}),e.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",t.account.available_balance?.toLocaleString()||"0.00"]})]}),e.jsx($,{className:"w-10 h-10 text-green-400"})]})}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Invested"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-400",children:["$",t.account.invested_balance?.toLocaleString()||"0.00"]})]}),e.jsx(G,{className:"w-10 h-10 text-purple-400"})]})}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Profit/Loss"}),e.jsxs("p",{className:`text-2xl font-bold ${(t.account.profit_loss||0)>=0?"text-green-400":"text-red-400"}`,children:["$",t.account.profit_loss?.toLocaleString()||"0.00"]})]}),e.jsx(P,{className:"w-10 h-10 text-orange-400"})]})})]}),e.jsxs("div",{className:"flex space-x-1 mb-8 bg-gray-800 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>m("overview"),className:`flex-1 px-4 py-3 rounded-md text-sm font-medium transition-colors ${r==="overview"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:"Overview"}),e.jsxs("button",{onClick:()=>m("wallet"),className:`flex-1 px-4 py-3 rounded-md text-sm font-medium transition-colors ${r==="wallet"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[e.jsx($,{className:"w-4 h-4 inline mr-2"}),"Wallet & Addresses"]}),e.jsxs("button",{onClick:()=>m("transactions"),className:`flex-1 px-4 py-3 rounded-md text-sm font-medium transition-colors ${r==="transactions"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[e.jsx(P,{className:"w-4 h-4 inline mr-2"}),"Transactions"]}),e.jsxs("button",{onClick:()=>m("chat"),className:`flex-1 px-4 py-3 rounded-md text-sm font-medium transition-colors ${r==="chat"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[e.jsx(M,{className:"w-4 h-4 inline mr-2"}),"Chat"]})]}),r==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"User ID"}),e.jsx("p",{className:"text-white font-medium",children:t.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Email Verified"}),e.jsx("p",{className:"text-white font-medium",children:t.email_verified_at||"Not verified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Status"}),e.jsx("p",{className:"text-white font-medium",children:t.is_active?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Joined Date"}),e.jsx("p",{className:"text-white font-medium",children:t.created_at})]})]})]}),e.jsxs(o,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Recent Transactions"}),e.jsx(d,{size:"sm",variant:"outline",onClick:()=>m("transactions"),children:"View All"})]}),t.recent_transactions&&t.recent_transactions.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Type"}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Amount"}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Chain"}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Status"}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Date"})]})}),e.jsx("tbody",{children:t.recent_transactions.map(s=>e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"py-3 text-white capitalize",children:s.type}),e.jsxs("td",{className:"py-3 text-white font-semibold",children:["$",s.amount]}),e.jsx("td",{className:"py-3 text-gray-300 uppercase",children:s.chain}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${U(s.status)}`,children:s.status})}),e.jsx("td",{className:"py-3 text-gray-400 text-sm",children:s.created_at})]},s.id))})]})}):e.jsx("p",{className:"text-gray-400 text-center py-8",children:"No transactions yet"})]})]}),r==="wallet"&&e.jsxs(o,{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"HD Wallet & Addresses"}),l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Wallet Status"}),e.jsx("p",{className:"text-white font-medium capitalize",children:l.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Total Addresses"}),e.jsx("p",{className:"text-white font-medium",children:l.address_count})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Wallet Type"}),e.jsx("p",{className:"text-white font-medium capitalize",children:l.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Created"}),e.jsx("p",{className:"text-white font-medium",children:l.created_at})]})]}),l.grouped_addresses&&l.grouped_addresses.length>0?e.jsx("div",{className:"space-y-4",children:l.grouped_addresses.map(s=>e.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 cursor-pointer hover:bg-gray-800/70",onClick:()=>B(s.chain),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:O(s.chain)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white capitalize",children:s.chain}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s.addresses.length," address(es)"]})]})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Balance: ",parseFloat(s.total_balance).toFixed(8)]})]}),g[s.chain]&&e.jsx("div",{className:"p-4 bg-gray-900/50 space-y-3",children:s.addresses.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("code",{className:"text-cyan-400 text-sm",children:a.address}),a.asset&&e.jsx("span",{className:"ml-2 px-2 py-1 bg-purple-500/20 text-purple-300 text-xs rounded",children:a.asset})]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Balance: ",parseFloat(a.balance).toFixed(8)," | Created: ",a.created_at]})]}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>W(a.address),className:"ml-4",children:w===a.address?e.jsx(A,{className:"w-4 h-4"}):e.jsx(F,{className:"w-4 h-4"})})]},a.id))})]},s.chain))}):e.jsx("p",{className:"text-gray-400 text-center py-8",children:"No addresses found"})]}):e.jsx("p",{className:"text-gray-400 text-center py-8",children:"No HD wallet found for this user"})]}),r==="transactions"&&e.jsxs(o,{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Transaction History"}),e.jsx("p",{className:"text-gray-400 text-center py-8",children:"Transaction history with advanced filtering coming soon..."})]}),r==="chat"&&e.jsxs(o,{children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6",children:["Chat with ",t.name]}),e.jsxs("div",{className:"flex flex-col h-[600px]",children:[e.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-900/30 rounded-lg mb-4",children:k?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-gray-400",children:"Loading chat history..."})}):y.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx(M,{className:"w-12 h-12 text-gray-500 mb-3"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"No messages yet"}),e.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Start a conversation with ",t.name]})]}):e.jsxs("div",{className:"space-y-4",children:[y.map((s,a)=>{const i=s.is_from_admin,f=s.message||s.content||"",u=i?s.admin?.user||s.admin||L:s.user||{name:t.name};return e.jsx("div",{className:`flex ${i?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-md px-4 py-2 rounded-lg ${i?"bg-gradient-to-r from-purple-500/80 to-pink-600/80 text-white":"bg-gray-700 text-gray-100"} ${s.sending?"opacity-60":""}`,children:[!i&&e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(ce,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium text-gray-300",children:u?.name||t.name})]}),i&&e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium",children:u?.name||"You"})]}),e.jsx("p",{className:"text-sm",children:f}),e.jsxs("div",{className:"flex items-center justify-end mt-1 space-x-1",children:[e.jsx(le,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:H(s.created_at)}),s.sending&&e.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"Sending..."})]})]})},s.id||a)}),e.jsx("div",{ref:D})]})}),e.jsxs("form",{onSubmit:q,className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:j,onChange:s=>S(s.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500",disabled:c}),e.jsxs(d,{type:"submit",disabled:!j.trim()||c,className:"px-6 py-3",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),c?"Sending...":"Send"]})]})]})]})]})}),T&&e.jsx(xe,{user:t,onClose:()=>C(!1)})]})};export{Ae as default};
