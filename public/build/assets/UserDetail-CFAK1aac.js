import{r,j as e,a as J,b as X}from"./app-cmO3M3cN.js";import{c as P,s as _}from"./index-D0t4A79f.js";import{C as Y,M as A,W as D,S as G}from"./CryptoAIAuthLayout-B4YiOPd6.js";import{S as I,B as d,C as m,T as Q}from"./Card-CLC7a3Mn.js";import{T as Z}from"./triangle-alert-D3UVhCj6.js";import{C as M}from"./circle-check-big-sIs-rWZA.js";import{C as z}from"./copy-D9s3ZhaP.js";import{A as ee}from"./arrow-left-CIc_lVei.js";import{M as se}from"./mail-Bc_ptoz_.js";import{L as te}from"./lock-CetbKK5l.js";import{P as ae}from"./plus-fyRQyfC_.js";import{K as re}from"./key-BGuC2ljN.js";import{D as ne}from"./dollar-sign-CSs8yqFt.js";import{A as $}from"./activity-DsGMFkni.js";import{U as ie}from"./user-BAaUh-G9.js";import{C as le}from"./clock-CDZFA8j_.js";/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],de=P("calendar",ce);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],F=P("circle-x",oe),me=({user:t,onClose:l})=>{const[f,i]=r.useState(""),[o,T]=r.useState(""),[w,g]=r.useState(""),[u,S]=r.useState(!1),[k,y]=r.useState(!1),[x,h]=r.useState(!1),v=async()=>{if(!f.trim()){g("Please enter your password");return}S(!0),g("");try{const c=document.querySelector('meta[name="csrf-token"]')?.content,p=await fetch(_("admin.users.mnemonic",t.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":c,Accept:"application/json"},body:JSON.stringify({password:f})}),C=await p.json();if(!p.ok){g(C.error||"Failed to retrieve mnemonic");return}T(C.mnemonic),i(""),y(!0)}catch(c){console.error("Error:",c),g("Failed to retrieve mnemonic. Please try again.")}finally{S(!1)}},N=()=>{navigator.clipboard.writeText(o),h(!0),setTimeout(()=>h(!1),2e3)};return e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:l,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full p-6 border border-gray-700",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-full flex items-center justify-center",children:e.jsx(Z,{className:"w-5 h-5 text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"View Wallet Mnemonic"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Sensitive Information - Admin Access Only"})]})]}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(F,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(I,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-400 font-semibold mb-1",children:"Security Warning"}),e.jsxs("p",{className:"text-sm text-gray-300",children:["You are about to view the recovery phrase for ",e.jsxs("span",{className:"font-semibold",children:[t.name,"'s"]})," wallet. This action is logged for security purposes."]})]})]})}),k?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Recovery Phrase (12 Words)"}),e.jsx("div",{className:"bg-gray-900 border border-gray-600 rounded-lg p-4",children:e.jsx("p",{className:"text-white font-mono text-sm break-words select-all",children:o})})]}),e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-red-400 text-sm",children:["âš ï¸ ",e.jsx("strong",{children:"Never share this phrase with anyone."})," Anyone with this phrase can access this wallet and steal all funds."]})}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:o.split(" ").map((c,p)=>e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded px-3 py-2",children:[e.jsxs("span",{className:"text-gray-400 text-xs mr-2",children:[p+1,"."]}),e.jsx("span",{className:"text-white font-medium",children:c})]},p))}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx(d,{variant:"outline",onClick:N,children:x?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Copy Phrase"]})}),e.jsx(d,{onClick:l,className:"bg-gradient-to-r from-cyan-500 to-blue-600",children:"Close"})]})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Your Admin Password"}),e.jsx("input",{type:"password",value:f,onChange:c=>i(c.target.value),onKeyPress:c=>c.key==="Enter"&&v(),placeholder:"Enter your password",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500",disabled:u}),w&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:w}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[e.jsx(d,{variant:"outline",onClick:l,disabled:u,children:"Cancel"}),e.jsx(d,{onClick:v,disabled:u||!f.trim(),className:"bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700",children:u?"Verifying...":"View Mnemonic"})]})]})]})})},Te=()=>{const{user:t,wallet:l,auth:f}=J().props,[i,o]=r.useState("overview"),[T,w]=r.useState(""),[g,u]=r.useState({}),[S,k]=r.useState(!1),[y,x]=r.useState([]),[h,v]=r.useState(""),[N,c]=r.useState(!1),[p,C]=r.useState(!1),E=r.useRef(null),L=f?.user,V=s=>{navigator.clipboard.writeText(s),w(s),setTimeout(()=>w(""),2e3)},W=s=>{u(a=>({...a,[s]:!a[s]}))},B=s=>({ethereum:"âŸ ",bitcoin:"â‚¿",solana:"â—Ž",tron:"T",polygon:"â¬£",bsc:"Éƒ"})[s.toLowerCase()]||"ðŸ”—",O=s=>({completed:"bg-green-500/20 text-green-400",pending:"bg-yellow-500/20 text-yellow-400",failed:"bg-red-500/20 text-red-400"})[s]||"bg-gray-500/20 text-gray-400";r.useEffect(()=>{i==="chat"&&y.length===0&&R()},[i]),r.useEffect(()=>{U()},[y]),r.useEffect(()=>{if(i==="chat"&&window.Echo&&t.id)return window.Echo.private(`chat.${t.id}`).listen(".message.sent",a=>{x(n=>n.some(j=>j.id===a.chat.id)?n:[...n,a.chat])}),()=>{window.Echo&&window.Echo.leaveChannel(`chat.${t.id}`)}},[i,t.id]);const U=()=>{E.current?.scrollIntoView({behavior:"smooth"})},R=async()=>{C(!0);try{const a=await(await fetch(_("admin.chat.history",t.id))).json();x(a.messages||[])}catch(s){console.error("Failed to load chat:",s)}finally{C(!1)}},K=async s=>{if(s.preventDefault(),!h.trim()||N)return;c(!0);const a={id:Date.now(),message:h.trim(),is_from_admin:!0,created_at:new Date().toISOString(),sending:!0,admin:{user:L}};x(n=>[...n,a]),v("");try{const n=document.querySelector('meta[name="csrf-token"]')?.content;if(!(await fetch(_("admin.chat.send",t.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":n,Accept:"application/json"},body:JSON.stringify({message:a.message})})).ok)throw new Error("Failed");x(b=>b.filter(H=>H.id!==a.id))}catch(n){console.error("Error:",n),x(j=>j.filter(b=>b.id!==a.id))}finally{c(!1)}},q=s=>{const a=new Date(s),n=new Date;return a.toDateString()===n.toDateString()?a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):a.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return e.jsxs(Y,{title:`User: ${t.name} - Admin`,children:[e.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>X.get(_("admin.dashboard")),className:"mb-6",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:t.name?.charAt(0)?.toUpperCase()||"U"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:t.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-gray-400",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(se,{className:"w-4 h-4 mr-1"}),t.email]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(de,{className:"w-4 h-4 mr-1"}),"Joined ",t.created_at]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.is_active?e.jsxs("span",{className:"flex items-center px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:[e.jsx(M,{className:"w-4 h-4 mr-1"}),"Active"]}):e.jsxs("span",{className:"flex items-center px-3 py-1 bg-gray-500/20 text-gray-400 rounded-full text-sm",children:[e.jsx(F,{className:"w-4  h-4 mr-1"}),"Inactive"]}),t.email_verified_at&&e.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 rounded-full text-sm",children:"Verified"}),l?.is_locked&&e.jsxs("span",{className:"flex items-center px-3 py-1 bg-red-500/20 text-red-400 rounded-full text-sm",children:[e.jsx(te,{className:"w-4 h-4 mr-1"}),"Wallet Locked"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(d,{size:"sm",variant:"outline",children:[e.jsx(ae,{className:"w-4 h-4 mr-1"}),"Deposit"]}),e.jsxs(d,{size:"sm",variant:"outline",onClick:()=>k(!0),children:[e.jsx(re,{className:"w-4 h-4 mr-1"}),"View Mnemonic"]}),e.jsxs(d,{size:"sm",variant:"outline",onClick:()=>o("chat"),children:[e.jsx(A,{className:"w-4 h-4 mr-1"}),"Message"]})]})]})}),t.account&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Total Balance"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",t.account.total_balance?.toLocaleString()||"0.00"]})]}),e.jsx(ne,{className:"w-10 h-10 text-cyan-400"})]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Available"}),e.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",t.account.available_balance?.toLocaleString()||"0.00"]})]}),e.jsx(D,{className:"w-10 h-10 text-green-400"})]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Invested"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-400",children:["$",t.account.invested_balance?.toLocaleString()||"0.00"]})]}),e.jsx(Q,{className:"w-10 h-10 text-purple-400"})]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Profit/Loss"}),e.jsxs("p",{className:`text-2xl font-bold ${(t.account.profit_loss||0)>=0?"text-green-400":"text-red-400"}`,children:["$",t.account.profit_loss?.toLocaleString()||"0.00"]})]}),e.jsx($,{className:"w-10 h-10 text-orange-400"})]})})]}),e.jsxs("div",{className:"flex space-x-1 mb-8 bg-gray-800 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>o("overview"),className:`flex-1 px-4 py-3 rounded-md text-sm font-medium transition-colors ${i==="overview"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:"Overview"}),e.jsxs("button",{onClick:()=>o("wallet"),className:`flex-1 px-4 py-3 rounded-md text-sm font-medium transition-colors ${i==="wallet"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[e.jsx(D,{className:"w-4 h-4 inline mr-2"}),"Wallet & Addresses"]}),e.jsxs("button",{onClick:()=>o("transactions"),className:`flex-1 px-4 py-3 rounded-md text-sm font-medium transition-colors ${i==="transactions"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[e.jsx($,{className:"w-4 h-4 inline mr-2"}),"Transactions"]}),e.jsxs("button",{onClick:()=>o("chat"),className:`flex-1 px-4 py-3 rounded-md text-sm font-medium transition-colors ${i==="chat"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[e.jsx(A,{className:"w-4 h-4 inline mr-2"}),"Chat"]})]}),i==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"User ID"}),e.jsx("p",{className:"text-white font-medium",children:t.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Email Verified"}),e.jsx("p",{className:"text-white font-medium",children:t.email_verified_at||"Not verified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Status"}),e.jsx("p",{className:"text-white font-medium",children:t.is_active?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Joined Date"}),e.jsx("p",{className:"text-white font-medium",children:t.created_at})]})]})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Recent Transactions"}),e.jsx(d,{size:"sm",variant:"outline",onClick:()=>o("transactions"),children:"View All"})]}),t.recent_transactions&&t.recent_transactions.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Type"}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Amount"}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Chain"}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Status"}),e.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Date"})]})}),e.jsx("tbody",{children:t.recent_transactions.map(s=>e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"py-3 text-white capitalize",children:s.type}),e.jsxs("td",{className:"py-3 text-white font-semibold",children:["$",s.amount]}),e.jsx("td",{className:"py-3 text-gray-300 uppercase",children:s.chain}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${O(s.status)}`,children:s.status})}),e.jsx("td",{className:"py-3 text-gray-400 text-sm",children:s.created_at})]},s.id))})]})}):e.jsx("p",{className:"text-gray-400 text-center py-8",children:"No transactions yet"})]})]}),i==="wallet"&&e.jsxs(m,{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"HD Wallet & Addresses"}),l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Wallet Status"}),e.jsx("p",{className:"text-white font-medium capitalize",children:l.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Total Addresses"}),e.jsx("p",{className:"text-white font-medium",children:l.address_count})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Wallet Type"}),e.jsx("p",{className:"text-white font-medium capitalize",children:l.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Created"}),e.jsx("p",{className:"text-white font-medium",children:l.created_at})]})]}),l.grouped_addresses&&l.grouped_addresses.length>0?e.jsx("div",{className:"space-y-4",children:l.grouped_addresses.map(s=>e.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 cursor-pointer hover:bg-gray-800/70",onClick:()=>W(s.chain),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:B(s.chain)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white capitalize",children:s.chain}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s.addresses.length," address(es)"]})]})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Balance: ",parseFloat(s.total_balance).toFixed(8)]})]}),g[s.chain]&&e.jsx("div",{className:"p-4 bg-gray-900/50 space-y-3",children:s.addresses.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("code",{className:"text-cyan-400 text-sm",children:a.address}),a.asset&&e.jsx("span",{className:"ml-2 px-2 py-1 bg-purple-500/20 text-purple-300 text-xs rounded",children:a.asset})]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Balance: ",parseFloat(a.balance).toFixed(8)," | Created: ",a.created_at]})]}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>V(a.address),className:"ml-4",children:T===a.address?e.jsx(M,{className:"w-4 h-4"}):e.jsx(z,{className:"w-4 h-4"})})]},a.id))})]},s.chain))}):e.jsx("p",{className:"text-gray-400 text-center py-8",children:"No addresses found"})]}):e.jsx("p",{className:"text-gray-400 text-center py-8",children:"No HD wallet found for this user"})]}),i==="transactions"&&e.jsxs(m,{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Transaction History"}),e.jsx("p",{className:"text-gray-400 text-center py-8",children:"Transaction history with advanced filtering coming soon..."})]}),i==="chat"&&e.jsxs(m,{children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6",children:["Chat with ",t.name]}),e.jsxs("div",{className:"flex flex-col h-[600px]",children:[e.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-900/30 rounded-lg mb-4",children:p?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-gray-400",children:"Loading chat history..."})}):y.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx(A,{className:"w-12 h-12 text-gray-500 mb-3"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"No messages yet"}),e.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Start a conversation with ",t.name]})]}):e.jsxs("div",{className:"space-y-4",children:[y.map((s,a)=>{const n=s.is_from_admin,j=s.message||s.content||"",b=n?s.admin?.user||s.admin||L:s.user||{name:t.name};return e.jsx("div",{className:`flex ${n?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-md px-4 py-2 rounded-lg ${n?"bg-gradient-to-r from-purple-500/80 to-pink-600/80 text-white":"bg-gray-700 text-gray-100"} ${s.sending?"opacity-60":""}`,children:[!n&&e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(ie,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium text-gray-300",children:b?.name||t.name})]}),n&&e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(I,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium",children:b?.name||"You"})]}),e.jsx("p",{className:"text-sm",children:j}),e.jsxs("div",{className:"flex items-center justify-end mt-1 space-x-1",children:[e.jsx(le,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:q(s.created_at)}),s.sending&&e.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"Sending..."})]})]})},s.id||a)}),e.jsx("div",{ref:E})]})}),e.jsxs("form",{onSubmit:K,className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:h,onChange:s=>v(s.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500",disabled:N}),e.jsxs(d,{type:"submit",disabled:!h.trim()||N,className:"px-6 py-3",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),N?"Sending...":"Send"]})]})]})]})]})}),S&&e.jsx(me,{user:t,onClose:()=>k(!1)})]})};export{Te as default};
